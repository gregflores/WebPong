<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>WEB PONG</h1>
    <canvas id="gameCanvas" width="800" height="600"></canvas>>
</body>

<script>
    const ballSize = 40;
    let ballX = 50;
    let velocity = 10;

    window.onload = function() {
        console.log("hello world");
        canvas = document.getElementById('gameCanvas');
        canvasContext = canvas.getContext('2d');
        const FPS = 60
        setInterval(() => {moveEverything(),drawEverything()}, 1000/FPS)
    }

    function moveEverything() {
        if(ballX + ballSize > 800) {
            velocity = -10;
        } else if (ballX < 0) {
            velocity = 10;
        }
        ballX += velocity;
        console.log(ballX);
    }

    function drawEverything() {
        
        canvasContext.fillStyle = 'black';
        canvasContext.fillRect(0,0,canvas.width,canvas.height);
        canvasContext.fillStyle = 'red';
        canvasContext.fillRect(120,100,50,25);
        canvasContext.fillStyle = 'green';
        canvasContext.fillRect(120,350,100,25);
        canvasContext.fillStyle = 'white';
        canvasContext.fillRect(ballX,canvas.height/2 - 20,40,40);
    }
</script>
</html>